<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <img id="img-stream2" src="" />
        <script src="/socket.io/socket.io.js"></script>
        <script type="text/javascript">
        var socket = io.connect('http://localhost:5000');

        var imgChunks = [];

        socket.on('img-chunk', (chunk) => {
            imgChunks.push(chunk);
            //img.setAttribute('src', 'data:image/jpeg;base64,' +imgChunks.join(""));
        });

        socket.on('img-finish', () => {
            var img = document.getElementById('img-stream2');
            img.setAttribute('src', 'data:image/jpeg;base64,' +imgChunks.join(""));
        })

        socket.on('img-reset', () => {
            imgChunks = [];
        })
        </script>
    </body>
</html>
